(()=>{"use strict";function e(e){let t=document.getElementsByClassName("tab-content");for(d=0;d<t.length;d++)t[d].style.display="none";document.getElementById("tab-"+e).style.display="block";let n=document.querySelectorAll(".tab-btn");var d;for(d=0;d<n.length;d++)n[d].classList.remove("active");document.getElementById(e).classList.add("active");let l="addInput-"+e;document.getElementById(l).value=null}const t=document.getElementById("sidebar"),n=document.getElementById("tabContainer");let d=0;function l(e,t){return e.dataset.date<t.dataset.date?-1:e.dataset.date>t.dataset.date?1:0}function a(e){let t=e.indexOf("-"),n=e.substring(t+1),d=document.createElement("li"),l=document.getElementById("addInput-"+n).value,a=document.createTextNode(l);d.appendChild(a),""!==l&&(document.getElementById("list-"+n).appendChild(d),document.getElementById("addInput-"+n).value="",function(e){let t=document.createElement("span");t.classList="close";let n=document.createTextNode("×");for(t.appendChild(n),t.addEventListener("mouseover",(()=>{e.classList.toggle("hover")})),t.addEventListener("mouseout",(()=>{e.classList.toggle("hover")})),e.appendChild(t),c=0;c<i.length;c++)i[c].onclick=function(){this.parentElement.style.display="none"}}(d))}let o=document.getElementsByTagName("li");for(c=0;c<o.length;c++){let e=document.createElement("span"),t=document.createTextNode("×");e.classList="close",e.appendChild(t),o[c].appendChild(e)}let i=document.getElementsByClassName("close");var c;for(c=0;c<i.length;c++)i[c].onclick=function(){this.parentElement.style.display="none"};const m=function(){d++,function(e){let t=document.createElement("div");t.classList="tab-content",t.id="tab-"+e;let d=document.createElement("div");d.classList="tab-header";let a=document.createElement("div");a.classList="list-info",function(e,t){let n=document.createElement("h1");n.textContent="Quest "+t,n.id="name"+t,n.contentEditable="true",n.addEventListener("keydown",(e=>{"Enter"===e.key&&(n.blur(),n.textContent.length>=12&&n.textContent.substring(0,12),n.textContent.length<1?document.getElementById(t).textContent="...":document.getElementById(t).textContent=n.textContent)})),n.addEventListener("focusout",(()=>{n.textContent.length>=12&&n.textContent.substring(0,12),n.textContent.length<1?document.getElementById(t).textContent="...":document.getElementById(t).textContent=n.textContent})),e.appendChild(n)}(d,e),function(e,t){let n=document.createElement("div");n.id="headerR";let d=document.createElement("button");d.id="removeBtn";let l=document.createTextNode("×");d.appendChild(l),d.addEventListener("click",(()=>{!0===confirm("Are you sure you want to delete this list? (This can not be undone.)")&&(document.getElementById("tab-"+t).remove(),document.getElementById(t).remove())})),n.appendChild(d),e.appendChild(n)}(d,e),a.appendChild(d),function(e,t){let n=document.createElement("div");n.id="priority";let d=document.createElement("label");d.htmlFor="priorityInput"+t,d.innerHTML="main quest?",n.appendChild(d);let l=document.createElement("input");l.type="checkbox",l.id="priorityInput"+t,l.addEventListener("change",(e=>{document.getElementById(t).classList.toggle("important"),document.getElementById("name"+t).classList.toggle("important")})),n.appendChild(l),e.appendChild(n)}(a,e),function(e,t){let n=document.createElement("div");n.id="date";let d=document.createElement("label");d.htmlFor="dateInput"+t,d.innerHTML="due by: ",n.appendChild(d);let a=document.createElement("input");a.type="date",a.id="dateInput"+t,a.addEventListener("change",(()=>{var e;document.getElementById(t).setAttribute("data-date",a.value),e=document.querySelectorAll("[data-date]"),Array.from(e).sort(l).forEach((e=>document.querySelector("#sidebarUl").appendChild(e)))})),n.appendChild(a),e.appendChild(n)}(a,e),function(e,t){let n=document.createElement("div");n.id="notebook";let d=document.createElement("label");d.id="notebookLabel",d.htmlFor="notes"+t,d.innerHTML="notes:";let l=document.createElement("textarea");l.id="notes"+t,n.appendChild(d),n.appendChild(l),e.appendChild(n)}(a,e),t.appendChild(a),n.appendChild(t)}(d),function(e){let t=document.getElementById("tab-"+e),n=document.createElement("div");n.id="add";let d=document.createElement("input");d.type="text",d.id="addInput-"+e,d.classList="add-input",d.addEventListener("keydown",(e=>{"Enter"===e.key&&a(e.target.id)})),n.appendChild(d);let l=document.createElement("button");l.type="submit",l.innerHTML="add",l.id="addBtn-"+e,l.classList="add-btn",l.addEventListener("click",(e=>{a(e.target.id)})),n.appendChild(l),t.appendChild(n)}(d),function(e){let t=document.getElementById("tab-"+e),d=document.createElement("ul");d.id="list-"+e,d.classList="list-ul",t.appendChild(d),n.appendChild(t)}(d),function(n){let d=document.getElementById("sidebarUl"),l=document.createElement("button");l.classList="tab-btn",l.id=n,l.innerHTML="Quest "+n,l.addEventListener("click",(t=>{e(t.target.id)})),d.appendChild(l),t.appendChild(d)}(d),document.getElementById(d).setAttribute("data-date",null),e(d)};document.getElementById("newListBtn").addEventListener("click",(e=>{m()}));let s=document.getElementsByTagName("li");for(r=0;r<s.length;r++){let e=document.createElement("span"),t=document.createTextNode("×");e.classList="close",e.appendChild(t),s[r].appendChild(e)}let u=document.getElementsByClassName("close");var r;for(r=0;r<u.length;r++)u[r].onclick=function(){this.parentElement.style.display="none"}})();