(()=>{const e=document.getElementById("sidebar"),t=document.getElementById("tabContainer");document.getElementById("newListBtn").addEventListener("click",(l=>{n++,function(e){let n=document.createElement("div");n.classList="tab-content",n.id="tab-"+e;let d=document.createElement("div");d.classList="list-info";let l=document.createElement("div");l.classList="tab-header";let a=document.createElement("h1");a.textContent="Quest "+e,a.id="name"+e,a.contentEditable="true",a.addEventListener("keydown",(t=>{"Enter"===t.key&&(a.blur(),document.getElementById(e).textContent=a.textContent.length<=12?a.textContent:a.textContent.substring(0,12)+"...")})),a.addEventListener("focusout",(()=>{document.getElementById(e).textContent=a.textContent.length<=12?a.textContent:a.textContent.substring(0,12)+"..."})),l.appendChild(a);let i=document.createElement("div");i.id="headerR";let o=document.createElement("button");o.id="removeBtn";let c=document.createTextNode("×");o.appendChild(c),o.addEventListener("click",(()=>{!0===confirm("Are you sure you want to delete this list? (This can not be undone.)")&&(document.getElementById("tab-"+e).remove(),document.getElementById(e).remove())})),i.appendChild(o),l.appendChild(i),d.appendChild(l);let m=document.createElement("div");m.id="priority";let s=document.createElement("label");s.htmlFor="priorityInput"+e,s.innerHTML="main quest?",m.appendChild(s);let u=document.createElement("input");u.type="checkbox",u.id="priorityInput"+e,u.addEventListener("change",(e=>{d.classList.toggle("important")})),m.appendChild(u);let r=document.createElement("div");r.id="date";let p=document.createElement("label");p.htmlFor="dateInput"+e,p.innerHTML="due by: ",r.appendChild(p);let E=document.createElement("input");E.type="date",E.id="dateInput"+e,r.appendChild(E);let h=document.createElement("p");h.id="notes",h.textContent="notes:",h.contentEditable="true",d.appendChild(m),d.appendChild(r),d.appendChild(h),n.appendChild(d),t.appendChild(n)}(n),function(e){let n=document.getElementById("tab-"+e),l=document.createElement("div"),a=document.createElement("input");a.type="text",a.id="addInput-"+e,a.classList="addInput",a.addEventListener("keydown",(e=>{"Enter"===e.key&&d(e.target.id)})),l.appendChild(a);let i=document.createElement("button");i.type="submit",i.innerHTML="add",i.id="addBtn-"+e,i.addEventListener("click",(e=>{d(e.target.id)})),l.appendChild(i),n.appendChild(l);let o=document.createElement("ul");o.id="list-"+e,o.classList="listUl",n.appendChild(o),t.appendChild(n)}(n),function(t){let n=document.getElementById("sidebarUl"),d=document.createElement("button");d.classList="tab-btn",d.id=t,d.innerHTML="Quest "+t,d.addEventListener("click",(e=>{o(e.target.id)})),n.appendChild(d),e.appendChild(n)}(n),o(n)}));let n=0;function d(e){let t=e.indexOf("-"),n=e.substring(t+1),d=document.createElement("li"),l=document.getElementById("addInput-"+n).value,o=document.createTextNode(l);d.appendChild(o),""===l?alert("You must write something!"):document.getElementById("list-"+n).appendChild(d),document.getElementById("addInput-"+n).value="";let c=document.createElement("span");c.classList="close";let m=document.createTextNode("×");for(c.appendChild(m),c.addEventListener("mouseover",(()=>{d.classList.toggle("hover")})),c.addEventListener("mouseout",(()=>{d.classList.toggle("hover")})),d.appendChild(c),i=0;i<a.length;i++)a[i].onclick=function(){this.parentElement.style.display="none"}}let l=document.getElementsByTagName("li");for(i=0;i<l.length;i++){let e=document.createElement("span"),t=document.createTextNode("×");e.classList="close",e.appendChild(t),l[i].appendChild(e)}let a=document.getElementsByClassName("close");var i;for(i=0;i<a.length;i++)a[i].onclick=function(){this.parentElement.style.display="none"};function o(e){let t=document.getElementsByClassName("tab-content");for(i=0;i<t.length;i++)t[i].style.display="none";document.getElementById("tab-"+e).style.display="block";let n=document.querySelectorAll(".tab-btn");for(i=0;i<n.length;i++)n[i].classList.remove("active");document.getElementById(e).classList.add("active");let d="addInput-"+e;document.getElementById(d).value=null}})();