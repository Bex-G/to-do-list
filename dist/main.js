(()=>{const e=document.getElementById("sidebar"),t=document.getElementById("tabContainer");document.getElementById("newListBtn").addEventListener("click",(a=>{n++,function(e){let n=document.createElement("div");n.classList="tab-content",n.id="tab-"+e;let l=document.createElement("div");l.classList="list-info";let a=document.createElement("div");a.classList="tab-header";let i=document.createElement("h1");i.textContent="Quest "+e,i.id="name"+e,i.contentEditable="true",i.addEventListener("keydown",(t=>{"Enter"===t.key&&(i.blur(),document.getElementById(e).textContent=i.textContent.length<=12?i.textContent:i.textContent.substring(0,12)+"...")})),i.addEventListener("focusout",(()=>{document.getElementById(e).textContent=i.textContent.length<=12?i.textContent:i.textContent.substring(0,12)+"..."})),a.appendChild(i);let o=document.createElement("div");o.id="headerR";let c=document.createElement("button");c.id="removeBtn";let m=document.createTextNode("×");c.appendChild(m),c.addEventListener("click",(()=>{!0===confirm("Are you sure you want to delete this list? (This can not be undone.)")&&(document.getElementById("tab-"+e).remove(),document.getElementById(e).remove())})),o.appendChild(c),a.appendChild(o),l.appendChild(a);let s=document.createElement("div");s.id="priority";let u=document.createElement("label");u.htmlFor="priorityInput"+e,u.innerHTML="main quest?",s.appendChild(u);let r=document.createElement("input");r.type="checkbox",r.id="priorityInput"+e,r.addEventListener("change",(e=>{l.classList.toggle("important")})),s.appendChild(r);let p=document.createElement("div");p.id="date";let E=document.createElement("label");E.htmlFor="dateInput"+e,E.innerHTML="due by: ",p.appendChild(E);let h=document.createElement("input");h.type="date",h.id="dateInput"+e,h.addEventListener("change",(()=>{var t;document.getElementById(e).setAttribute("data-date",h.value),t=document.querySelectorAll("[data-date]"),Array.from(t).sort(d).forEach((e=>document.querySelector("#sidebarUl").appendChild(e)))})),p.appendChild(h);let y=document.createElement("p");y.id="notes",y.textContent="notes:",y.contentEditable="true",l.appendChild(s),l.appendChild(p),l.appendChild(y),n.appendChild(l),t.appendChild(n)}(n),function(e){let n=document.getElementById("tab-"+e),d=document.createElement("div"),a=document.createElement("input");a.type="text",a.id="addInput-"+e,a.classList="addInput",a.addEventListener("keydown",(e=>{"Enter"===e.key&&l(e.target.id)})),d.appendChild(a);let i=document.createElement("button");i.type="submit",i.innerHTML="add",i.id="addBtn-"+e,i.addEventListener("click",(e=>{l(e.target.id)})),d.appendChild(i),n.appendChild(d);let o=document.createElement("ul");o.id="list-"+e,o.classList="listUl",n.appendChild(o),t.appendChild(n)}(n),function(t){let n=document.getElementById("sidebarUl"),d=document.createElement("button");d.classList="tab-btn",d.id=t,d.innerHTML="Quest "+t,d.addEventListener("click",(e=>{c(e.target.id)})),n.appendChild(d),e.appendChild(n)}(n),document.getElementById(n).setAttribute("data-date",null),c(n)}));let n=0;function d(e,t){return e.dataset.date<t.dataset.date?-1:e.dataset.date>t.dataset.date?1:0}function l(e){let t=e.indexOf("-"),n=e.substring(t+1),d=document.createElement("li"),l=document.getElementById("addInput-"+n).value,a=document.createTextNode(l);d.appendChild(a),""===l?alert("You must write something!"):document.getElementById("list-"+n).appendChild(d),document.getElementById("addInput-"+n).value="";let c=document.createElement("span");c.classList="close";let m=document.createTextNode("×");for(c.appendChild(m),c.addEventListener("mouseover",(()=>{d.classList.toggle("hover")})),c.addEventListener("mouseout",(()=>{d.classList.toggle("hover")})),d.appendChild(c),o=0;o<i.length;o++)i[o].onclick=function(){this.parentElement.style.display="none"}}let a=document.getElementsByTagName("li");for(o=0;o<a.length;o++){let e=document.createElement("span"),t=document.createTextNode("×");e.classList="close",e.appendChild(t),a[o].appendChild(e)}let i=document.getElementsByClassName("close");var o;for(o=0;o<i.length;o++)i[o].onclick=function(){this.parentElement.style.display="none"};function c(e){let t=document.getElementsByClassName("tab-content");for(o=0;o<t.length;o++)t[o].style.display="none";document.getElementById("tab-"+e).style.display="block";let n=document.querySelectorAll(".tab-btn");for(o=0;o<n.length;o++)n[o].classList.remove("active");document.getElementById(e).classList.add("active");let d="addInput-"+e;document.getElementById(d).value=null}})();