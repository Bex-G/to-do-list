(()=>{"use strict";function e(){rmQuestBtn.textContent=" - Quests";let e=document.querySelectorAll(".x-action");for(d=0;d<e.length;d++)e[d].classList.remove("show");let t=document.querySelectorAll(".plus");for(d=0;d<t.length;d++)t[d].style.display="flex";let n=document.querySelectorAll(".remove-tab");var d;for(d=0;d<n.length;d++)n[d].style.display="flex";rmQuestBtn.style.backgroundColor="transparent",rmQuestBtn.style.color="black"}function t(e,t){return e.dataset.date<t.dataset.date?-1:e.dataset.date>t.dataset.date?1:0}function n(e){let t=document.getElementsByClassName("list-content");for(d=0;d<t.length;d++)t[d].style.display="none";document.getElementById("t"+e).style.display="block";let n=document.querySelectorAll(".tab");var d;for(d=0;d<n.length;d++)n[d].classList.remove("active");document.getElementById(e).classList.add("active");let l="addInput-"+e;document.getElementById(l).value=null}const d=document.getElementById("sidebar"),l=document.getElementById("listContainer");document.getElementById("rmQuestBtn").textContent=" - Quests";let o=0;let a=0,c=0;function i(e){c++;let t=document.createElement("li"),n=document.createElement("label");n.htmlFor="li"+c;let d=document.createElement("span");d.textContent=document.getElementById("addInput-"+e).value;let l=document.createElement("input");l.type="checkbox",l.id="li"+c,n.appendChild(l),n.appendChild(d),t.appendChild(n),""!==d.textContent&&(document.getElementById("list-"+e).appendChild(t),document.getElementById("addInput-"+e).value="",function(e){let t=document.createElement("span");t.classList="close";let n=document.createTextNode("×");for(t.appendChild(n),t.addEventListener("mouseover",(()=>{e.classList.toggle("hover")})),t.addEventListener("mouseout",(()=>{e.classList.toggle("hover")})),e.appendChild(t),u=0;u<r.length;u++)r[u].onclick=function(){this.parentElement.style.display="none"}}(t))}let s=document.getElementsByTagName("li");for(u=0;u<s.length;u++){let e=document.createElement("span"),t=document.createTextNode("×");e.classList="close",e.appendChild(t),s[u].appendChild(e)}let r=document.getElementsByClassName("close");var u;for(u=0;u<r.length;u++)r[u].onclick=function(){this.parentElement.style.display="none"};document.getElementById("addQuestBtn").addEventListener("click",(()=>{!function(){let c=document.querySelectorAll(".x-action");var s;for(s=0;s<c.length;s++)c[s].classList.contains("show")&&e(document.getElementById("rmQuestBtn"));let r=prompt("What is your quest?");null!=r&&""!=r&&(r.length<=12?(o++,function(e){let t=document.createElement("div");t.id="d"+e,t.classList="dropdown";let n=document.createElement("div");n.id="dHead"+e,n.classList="drop-header";let l=document.createElement("div");l.id="q"+e,l.classList.add("drop-content","show"),t.appendChild(n),t.appendChild(l),d.appendChild(t)}(o),function(e){let t=document.createElement("p");t.id="a"+e,t.classList="arrow",t.addEventListener("click",(()=>{let n=document.getElementById("q"+e);n.children.length>0&&(n.classList.toggle("show"),t.classList.toggle("down"))})),document.getElementById("dHead"+e).appendChild(t)}(o),function(e){let t=document.createElement("h3");t.textContent=e,t.contentEditable="true",t.addEventListener("keydown",(e=>{let n=t.textContent.length;n>=12&&"Backspace"!==e.key?(alert("Character limit exceeded!"),t.blur()):1===n&&"Backspace"===e.key&&(alert("This must be at least 1 character long."),t.blur()),"Enter"===e.key&&t.blur()})),t.addEventListener("focusout",(e=>{t.textContent.length<1&&(t.textContent="untitled")})),document.getElementById("dHead"+o).appendChild(t)}(r),function(e){let d=document.createElement("div");d.id="action"+e;let o=document.createElement("p");o.classList="plus",o.textContent="+",o.addEventListener("click",(()=>{let d=prompt("What do you want to name your new list?");null!=d&&""!=d&&(d.length<=26?(function(e,d){a++,function(e,t){let n=document.getElementById("q"+e),d=document.createElement("div");d.id=t,d.classList.add("q-"+e,"tab"),d.setAttribute("data-date",null);let l=document.createElement("p");l.id="tb"+t,l.classList="tab-btn",d.appendChild(l),n.appendChild(d)}(e,a),function(e,d,o){let a=document.createElement("div");a.id="t"+d,a.classList="list-content";let c=document.createElement("div");c.classList="list-header";let i=document.createElement("div");i.classList="list-info",function(e,t,d){let l=document.getElementById("tb"+t);d.length>=12?l.textContent=d.substring(0,12)+"...":l.textContent=d;let o=document.createElement("h2");o.id="name"+t,o.textContent=d,o.contentEditable="true",o.addEventListener("keydown",(e=>{"Enter"===e.key&&o.blur()})),o.addEventListener("focusout",(()=>{o.textContent.length>=12?l.textContent=o.textContent.substring(0,12)+"...":o.textContent.length<1?(o.textContent="untitled",l.textContent="untitled"):l.textContent=o.textContent})),o.addEventListener("keydown",(e=>{o.textContent.length>=26&&"Backspace"!==e.key&&(alert("Character limit exceeded!"),o.blur())})),l.addEventListener("click",(()=>{n(t)})),e.appendChild(o)}(c,d,o),function(e,t){let n=document.createElement("p");n.classList="remove-tab";let d=document.createTextNode("×");n.appendChild(d),n.addEventListener("click",(()=>{!0===confirm("Are you sure you want to delete this list? (This can not be undone.)")&&(document.getElementById("t"+t).remove(),document.getElementById(t).remove()),document.getElementById("q"+e).children.length<1&&document.getElementById("a"+e).classList.remove("down")})),document.getElementById(t).appendChild(n)}(e,d),i.appendChild(c),function(e,t){let n=document.createElement("div");n.id="priority";let d=document.createElement("label");d.htmlFor="priorityInput"+t,d.textContent="main quest?",n.appendChild(d);let l=document.createElement("input");l.type="checkbox",l.id="priorityInput"+t,l.addEventListener("change",(()=>{document.getElementById(t).classList.toggle("important"),document.getElementById("name"+t).classList.toggle("important")})),n.appendChild(l),e.appendChild(n)}(i,d),function(e,n,d){let l=document.createElement("div");l.id="date";let o=document.createElement("label");o.htmlFor="dateInput"+d,o.textContent="due by: ",l.appendChild(o);let a=document.createElement("input");a.type="date",a.id="dateInput"+d,a.addEventListener("change",(()=>{document.getElementById(d).setAttribute("data-date",a.value),function(e){var n=".q-"+e,d=document.querySelectorAll(n,"[data-date]");Array.from(d).sort(t).forEach((t=>document.querySelector("#q"+e).appendChild(t)))}(n)})),l.appendChild(a),e.appendChild(l)}(i,e,d),function(e,t){let n=document.createElement("div");n.id="notebook";let d=document.createElement("label");d.id="notebookLabel",d.htmlFor="notes"+t,d.textContent="notes:";let l=document.createElement("textarea");l.id="notes"+t,n.appendChild(d),n.appendChild(l),e.appendChild(n)}(i,d),a.appendChild(i),l.appendChild(a)}(e,a,d),function(e){let t=document.getElementById("t"+e),n=document.createElement("div");n.id="add";let d=document.createElement("input");d.type="text",d.id="addInput-"+e,d.classList="add-input",d.addEventListener("keydown",(t=>{"Enter"===t.key&&i(e)})),n.appendChild(d);let l=document.createElement("button");l.type="submit",l.textContent="add",l.id="addBtn-"+e,l.classList="add-btn",l.addEventListener("click",(()=>{i(e)})),n.appendChild(l),t.appendChild(n)}(a),function(e){let t=document.getElementById("t"+e),n=document.createElement("ul");n.id="list-"+e,n.classList="list-ul",t.appendChild(n),l.appendChild(t)}(a),n(a)}(e,d),document.getElementById("q"+e).classList.add("show"),document.getElementById("a"+e).classList.add("down")):alert("Oops! Please choose a name that is fewer than 26 characters long. :)"))})),d.appendChild(o),document.getElementById("dHead"+e).appendChild(d)}(o),function(t){let n=document.createElement("p");n.classList="x-action",n.textContent="X",n.addEventListener("click",(()=>{!0===confirm("Are you sure you want to delete this quest and all its content? (This can not be undone.)")&&document.getElementById("d"+t).remove(),2===d.children.length&&e()}));let l=document.getElementById("d"+t);n.addEventListener("mouseover",(()=>{l.classList.toggle("warning")})),n.addEventListener("mouseout",(()=>{l.classList.toggle("warning")})),document.getElementById("action"+t).appendChild(n)}(o)):alert("Oops! Please choose a name that is fewer than 12 characters long. :)"))}()})),document.getElementById("rmQuestBtn").addEventListener("click",(()=>{sidebar.children.length>2&&(" - Quests"===rmQuestBtn.textContent?function(){let e=document.querySelectorAll(".x-action");for(d=0;d<e.length;d++)e[d].classList.add("show");let t=document.querySelectorAll(".plus");for(d=0;d<t.length;d++)t[d].style.display="none";let n=document.querySelectorAll(".remove-tab");var d;for(d=0;d<n.length;d++)n[d].style.display="none";rmQuestBtn.style.backgroundColor="red",rmQuestBtn.style.color="white",rmQuestBtn.textContent="Finish"}():e())}))})();