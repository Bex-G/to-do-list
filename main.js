(()=>{"use strict";function e(e,t){return e.dataset.date<t.dataset.date?-1:e.dataset.date>t.dataset.date?1:0}function t(e){let t=document.getElementsByClassName("tab-content");for(d=0;d<t.length;d++)t[d].style.display="none";document.getElementById("tab-"+e).style.display="block";let n=document.querySelectorAll(".tab-btn");var d;for(d=0;d<n.length;d++)n[d].classList.remove("active");document.getElementById(e).classList.add("active");let l="addInput-"+e;document.getElementById(l).value=null}const n=document.getElementById("sidebar"),d=document.getElementById("tabContainer");let l=0;let a=0;function o(e){let t=document.createElement("p");t.id="removeBtn";let n=document.createTextNode("×");t.appendChild(n),t.addEventListener("click",(()=>{!0===confirm("Are you sure you want to delete this list? (This can not be undone.)")&&(document.getElementById("tab-"+e).remove(),document.getElementById(e).remove())})),document.getElementById(e).appendChild(t)}let i=0;function c(e){let t=e.indexOf("-"),n=e.substring(t+1);i++;let d=document.createElement("li"),l=document.createElement("label");l.htmlFor="li"+i;let a=document.createElement("span");a.innerHTML=document.getElementById("addInput-"+n).value;let o=document.createElement("input");o.type="checkbox",o.id="li"+i,l.appendChild(o),l.appendChild(a),d.appendChild(l),""!==a.innerHTML&&(document.getElementById("list-"+n).appendChild(d),document.getElementById("addInput-"+n).value="",function(e){let t=document.createElement("span");t.classList="close";let n=document.createTextNode("×");for(t.appendChild(n),t.addEventListener("mouseover",(()=>{e.classList.toggle("hover")})),t.addEventListener("mouseout",(()=>{e.classList.toggle("hover")})),e.appendChild(t),u=0;u<m.length;u++)m[u].onclick=function(){this.parentElement.style.display="none"}}(d))}let s=document.getElementsByTagName("li");for(u=0;u<s.length;u++){let e=document.createElement("span"),t=document.createTextNode("×");e.classList="close",e.appendChild(t),s[u].appendChild(e)}let m=document.getElementsByClassName("close");var u;for(u=0;u<m.length;u++)m[u].onclick=function(){this.parentElement.style.display="none"};document.getElementById("newFolderBtn").addEventListener("click",(()=>{l++,function(l){let i=prompt("What is your quest?");if(null!=i&&""!=i)if(i.length<=12){let s=document.createElement("div");s.classList="dropdown";let m=document.createElement("div");m.id="dropHead"+l,m.classList="drop-head";let u=document.createElement("p");u.id="a"+l,u.classList="arrow";let r=document.createElement("h3");r.innerHTML=i,r.style.textDecoration="underline";let p=document.createElement("div");p.id="q"+l,p.classList.add("drop-content","show"),u.addEventListener("click",(()=>{p.children.length>0&&(p.classList.toggle("show"),u.classList.toggle("down"))})),m.appendChild(u),m.appendChild(r),s.appendChild(m),s.appendChild(p),n.appendChild(s),function(n){let l=document.createElement("div"),i=document.createElement("p");i.id="btn-"+n,i.innerHTML="+",i.addEventListener("click",(l=>{let i=prompt("What do you want to name your new list?");null!=i&&""!=i&&(function(n,l){a++,function(e,n,d){let l=document.getElementById("q"+e),a=document.createElement("button");a.id=n,a.classList.add("q-"+e,"tab-btn"),a.setAttribute("data-date",null);let o=document.createTextNode(d);o.id="tabTxt"+n,a.addEventListener("click",(e=>{t(e.target.id)})),a.appendChild(o),l.appendChild(a)}(n,a,l),function(t,n,l){let a=document.createElement("div");a.id="tab-"+n,a.classList="tab-content";let i=document.createElement("div");i.classList="tab-header";let c=document.createElement("div");c.classList="list-info",function(e,t,n){let d=document.getElementById(t);n.length>=12?document.getElementById(t).textContent=n.substring(0,12)+"...":document.getElementById(t).textContent=n;let l=document.createElement("h2");l.id="name"+t,l.textContent=n,l.contentEditable="true",l.addEventListener("keydown",(e=>{"Enter"===e.key&&(l.blur(),l.textContent.length>=12?(d.textContent=l.textContent.substring(0,12)+"...",o(t)):l.textContent.length<1?(d.textContent="...",o(t)):(d.textContent=l.textContent,o(t)))})),l.addEventListener("focusout",(()=>{l.textContent.length>=12?(d.textContent=l.textContent.substring(0,12)+"...",o(t)):l.textContent.length<1?(d.textContent="...",o(t)):(d.textContent=l.textContent,o(t))})),e.appendChild(l)}(i,n,l),o(n),c.appendChild(i),function(e,t){let n=document.createElement("div");n.id="priority";let d=document.createElement("label");d.htmlFor="priorityInput"+t,d.innerHTML="main quest?",n.appendChild(d);let l=document.createElement("input");l.type="checkbox",l.id="priorityInput"+t,l.addEventListener("change",(e=>{document.getElementById(t).classList.toggle("important"),document.getElementById("name"+t).classList.toggle("important")})),n.appendChild(l),e.appendChild(n)}(c,n),function(t,n,d){let l=document.createElement("div");l.id="date";let a=document.createElement("label");a.htmlFor="dateInput"+d,a.innerHTML="due by: ",l.appendChild(a);let o=document.createElement("input");o.type="date",o.id="dateInput"+d,o.addEventListener("change",(()=>{document.getElementById(d).setAttribute("data-date",o.value),function(t){var n=".q-"+t,d=document.querySelectorAll(n,"[data-date]");Array.from(d).sort(e).forEach((e=>document.querySelector("#q"+t).appendChild(e)))}(n)})),l.appendChild(o),t.appendChild(l)}(c,t,n),function(e,t){let n=document.createElement("div");n.id="notebook";let d=document.createElement("label");d.id="notebookLabel",d.htmlFor="notes"+t,d.innerHTML="notes:";let l=document.createElement("textarea");l.id="notes"+t,n.appendChild(d),n.appendChild(l),e.appendChild(n)}(c,n),a.appendChild(c),d.appendChild(a)}(n,a,l),function(e){let t=document.getElementById("tab-"+e),n=document.createElement("div");n.id="add";let d=document.createElement("input");d.type="text",d.id="addInput-"+e,d.classList="add-input",d.addEventListener("keydown",(e=>{"Enter"===e.key&&c(e.target.id)})),n.appendChild(d);let l=document.createElement("button");l.type="submit",l.innerHTML="add",l.id="addBtn-"+e,l.classList="add-btn",l.addEventListener("click",(e=>{c(e.target.id)})),n.appendChild(l),t.appendChild(n)}(a),function(e){let t=document.getElementById("tab-"+e),n=document.createElement("ul");n.id="list-"+e,n.classList="list-ul",t.appendChild(n),d.appendChild(t)}(a),t(a)}(n,i),document.getElementById("q"+n).classList.add("show"),document.getElementById("a"+n).classList.add("down"))})),l.appendChild(i),document.getElementById("dropHead"+n).appendChild(l)}(l)}else alert("Oops! Please choose a name that is fewer than 12 characters long. :)")}(l)}))})();